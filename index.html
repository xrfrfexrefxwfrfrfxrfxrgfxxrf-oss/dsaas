<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TermWind</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    margin: 0;
    background: #0b0e14;
    color: #cdd6f4;
    font-family: monospace;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}
.terminal {
    width: 95%;
    max-width: 900px;
    height: 90vh;
    background: #11131a;
    padding: 20px;
    overflow-y: auto;
    border-radius: 8px;
    box-shadow: 0 0 40px rgba(0,0,0,.8);
}
.line { white-space: pre-wrap; line-height: 1.4; }
.prompt { display: flex; }
.prompt span { margin-right: 6px; }
input {
    background: none;
    border: none;
    outline: none;
    color: inherit;
    font-family: inherit;
    font-size: 16px;
    flex: 1;
}
</style>
</head>

<body>
<div class="terminal" id="terminal">
    <div class="line">TermWind Terminal v2.1</div>
    <div class="line">Commands: browfetch | ip | checkip &lt;ip&gt; | websitelookup &lt;domain&gt;</div>
    <br>
    <div class="prompt">
        <span>user@termwind:~$</span>
        <input id="input" autofocus>
    </div>
</div>

<script>
const terminal = document.getElementById("terminal");
const input = document.getElementById("input");

function print(text = "") {
    const div = document.createElement("div");
    div.className = "line";
    div.textContent = text;
    terminal.insertBefore(div, terminal.lastElementChild);
    terminal.scrollTop = terminal.scrollHeight;
}

input.addEventListener("keydown", async (e) => {
    if (e.key !== "Enter") return;
    const command = input.value.trim();
    print("user@termwind:~$ " + command);
    input.value = "";

    // ---------------- browfetch ----------------
    if (command === "browfetch") {
        print("");
        print("Browser : " + navigator.userAgent);
        print("Platform: " + navigator.platform);
        print("Language: " + navigator.language);
        print("");
    }

    // ---------------- ip ----------------
    else if (command === "ip") {
        print("Fetching your IP info...");
        try {
            const res = await fetch("https://ipapi.co/json/");
            const data = await res.json();

            print("");
            print("IP            : " + data.ip);
            print("Network       : " + data.network);
            print("Version       : " + data.version);
            print("City          : " + data.city);
            print("Region        : " + data.region);
            print("Country       : " + data.country_name);
            print("Postal Code   : " + data.postal);
            print("Latitude/Long : " + data.latitude + " / " + data.longitude);
            print("Timezone      : " + data.timezone);
            print("ISP/Provider  : " + data.org);
            print("");
        } catch {
            print("Error fetching IP info.");
        }
    }

    // ---------------- checkip ----------------
    else if (command.startsWith("checkip")) {
        const ip = command.split(" ")[1];
        if (!ip) { print("Usage: checkip <ip>"); return; }

        print(`Fetching info for IP: ${ip}`);
        try {
            const res = await fetch(`https://ipapi.co/${ip}/json/`);
            const data = await res.json();
            if (data.error) { print("Invalid IP or request blocked."); return; }

            print("");
            print("IP            : " + data.ip);
            print("Network       : " + data.network);
            print("Version       : " + data.version);
            print("City          : " + data.city);
            print("Region        : " + data.region);
            print("Country       : " + data.country_name);
            print("Postal Code   : " + data.postal);
            print("Latitude/Long : " + data.latitude + " / " + data.longitude);
            print("Timezone      : " + data.timezone);
            print("ISP/Provider  : " + data.org);
            print("");
        } catch {
            print("Invalid IP or request blocked.");
        }
    }

    // ---------------- websitelookup ----------------
    else if (command.startsWith("websitelookup")) {
        const domain = command.split(" ")[1];
        if (!domain) {
            print("Usage: websitelookup <domain>");
            return;
        }

        print("Looking up DNS A/AAAA records for: " + domain);
        try {
            const dnsRes = await fetch(`https://cloudflare-dns.com/dns-query?name=${domain}&type=A&ct=application/dns-json`);
            const dnsDataA = await dnsRes.json();

            const dnsRes6 = await fetch(`https://cloudflare-dns.com/dns-query?name=${domain}&type=AAAA&ct=application/dns-json`);
            const dnsDataAAAA = await dnsRes6.json();

            print("");
            // A records
            if (dnsDataA.Answer) {
                print("A Records:");
                dnsDataA.Answer.forEach(rec => {
                    if (rec.type === 1) print(" IP: " + rec.data);
                });
            } else {
                print("No A records found.");
            }

            // AAAA records
            if (dnsDataAAAA.Answer) {
                print("");
                print("AAAA Records:");
                dnsDataAAAA.Answer.forEach(rec => {
                    if (rec.type === 28) print(" IP v6: " + rec.data);
                });
            }
            print("");
        } catch {
            print("Error looking up DNS for " + domain);
        }
    }

    else {
        print("command not found: " + command);
    }
});
</script>
</body>
</html>
